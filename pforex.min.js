var Q=function(e){return document.querySelectorAll(e)};Pforex={base:"USD",current:"EUR",init:function(){this.mkSelector();var e=function(e,r){void 0!==Cookies.get("pforex")?Pforex.set(Cookies.get("pforex")):Pforex.set("USD"),Pforex.update(),Pforex.watch()};this.data(e,e)},watch:function(){var e=this,r=new MutationObserver(function(r){r.forEach(function(r){e.render(r.target)})}),t=function(e){r.observe(e,{attributes:!0})};Q("[data-pforex-price]").forEach(t),Q("pforex").forEach(t)},render:function(e){var r=Pforex,t=parseInt(e.getAttribute("price")||e.getAttribute("data-pforex-price"));t=t*r.rates[r.base]/r.rates[r.current];var o=r.currencies[r.current].decimals;t=Math.round(t/100*Math.pow(10,o))/Math.pow(10,o),t=r.separate(t,r.currencies[r.current].separator);var n=e.getAttribute("re")||e.getAttribute("data-pforex-re")||".*";if(n=RegExp(n),void 0===(e.attributes.showcurrency||e.attributes["data-pforex-showcurrency"]))var c=e.innerHTML.replace(n,r.currencies[r.current].symbol+t);else var c=e.innerHTML.replace(n,r.currencies[r.current].symbol+t+" "+Pforex.current);e.innerHTML=c},update:function(){Q("pforex").forEach(Pforex.render),Q("[data-pforex-price]").forEach(Pforex.render),Q("select[pforex-selector]").forEach(function(e){e.value=Pforex.current})},mkSelector:function(){Q("select[pforex-selector]").forEach(function(e){e.onchange=function(e){Pforex.set(e.target.value)}})},set:function(e){void 0!==Pforex.currencies[e]?Pforex.current=e:console.log("Attempting to set unknown currency:",e),Cookies.set("pforex",Pforex.current),Pforex.update()},get:function(){return Pforex.current},data:function(cb,err){var xhr=new XMLHttpRequest;xhr.open("GET","//cdn.shopify.com/s/javascripts/currencies.js"),xhr.onload=function(){return 200===xhr.status?(eval(xhr.responseText),Pforex.rates=Currency.rates,!!cb&&cb()):(console.log("Pforex could not load currency data:",xhr),!!err&&err())},xhr.send()},separate:function(e,r){function t(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,r),t.join(".")}return t(e)},currencies:{USD:{symbol:"$",decimals:2,separator:","},CAD:{symbol:"$",decimals:2,separator:","},AUD:{symbol:"$",decimals:2,separator:","},EUR:{symbol:"&euro;",decimals:2,separator:","},JPY:{symbol:"&#165;",decimals:0,separator:","},GBP:{symbol:"&pound;",decimals:2,separator:","}}},function(e,r){"use strict";var t=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,r,o){return 1===arguments.length?t.get(e):t.set(e,r,o)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var o=t._cache[t._cacheKeyPrefix+e];return o===r?r:decodeURIComponent(o)},t.set=function(e,o,n){return n=t._getExtendedOptions(n),n.expires=t._getExpiresDate(o===r?-1:n.expires),t._document.cookie=t._generateCookieString(e,o,n),t},t.expire=function(e,o){return t.set(e,r,o)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&e.secure!==r?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,r){if(r=r||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(r.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,r,t){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),r=(r+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),t=t||{};var o=e+"="+r;return o+=t.path?";path="+t.path:"",o+=t.domain?";domain="+t.domain:"",o+=t.expires?";expires="+t.expires.toUTCString():"",o+=t.secure?";secure":""},t._getCacheFromString=function(e){for(var o={},n=e?e.split("; "):[],c=0;c<n.length;c++){var a=t._getKeyValuePairFromCookieString(n[c]);o[t._cacheKeyPrefix+a.key]===r&&(o[t._cacheKeyPrefix+a.key]=a.value)}return o},t._getKeyValuePairFromCookieString=function(e){var r=e.indexOf("=");r=r<0?e.length:r;var t,o=e.substr(0,r);try{t=decodeURIComponent(o)}catch(e){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+o+'"',e)}return{key:t,value:e.substr(r+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="cookies.js",r="1"===t.set(e,1).get(e);return t.expire(e),r},t.enabled=t._areEnabled(),t},o=e&&"object"==typeof e.document?t(e):t;"function"==typeof define&&define.amd?define(function(){return o}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=o),exports.Cookies=o):e.Cookies=o}("undefined"==typeof window?this:window),Pforex.init();
